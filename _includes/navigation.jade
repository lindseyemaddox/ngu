
nav#scroll-spy

  a.loc.icon-acorn.active(href='#intro') 
  
    span.label.multi A Tradition of 
      br
      | Strength &amp; Trust

  a.loc.icon-leaf(href='#program') 
    
    span.label Our Program

  a.loc.icon-knife(href='#people') 
    
    span.label Our People

  a.loc.icon-compass(href='#foundation') 
    
    span.label Our Foundation

  a.loc.icon-telescope(href='#perspective') 

    span.label Our Perspective

  a.loc.icon-sign(href='#faq') 
  
    span.label.multi Frequently 
      br
      | Asked Questions

  a.loc.icon-boat(href='#forms') 
    
    span.label Forms


script.
  $(document).ready(function(){
  	
  	// Scrollspy initiation
  	$('body').scrollspy({ 
  		target: '#scroll-spy',
  		offset: 70
  	});

  	// On render, adjust body padding to ensure last Scroll target can reach top of screen
  	var height = $('#forms').innerHeight();
  	var windowHeight = $(window).height();
  	var navHeight = $('nav').innerHeight();
  	var siblingHeight = $('#forms').nextAll().innerHeight();


  	if(height < windowHeight){
  		$('body').css("padding-bottom", windowHeight-navHeight-height-siblingHeight + "px");
  	}

  	// On window resize, adjust body padding to ensure last Scroll target can reach top of screen
  	$(window).resize(function(event){
  		var height = $('#forms').innerHeight();
  		var windowHeight = $(window).height();
  		var navHeight = $('nav').innerHeight();
  		var siblingHeight = $('#forms').nextAll().innerHeight();
  		
  		
  		if(height < windowHeight){
  			$('body').css("padding-bottom", windowHeight-navHeight-height-siblingHeight + "px");
  		}
  	});
  	
  	$('nav a').click(function(event){
  		// Make sure this.hash has a value before overriding default behavior
  		if (this.hash !== "") {
  			// Prevent default anchor click behavior
  			event.preventDefault();

  			// Store hash (#)
  			var hash = this.hash;
  			
  			// Ensure no section has relevant class
  			$('section').removeClass("focus");

  			// Add class to target
  			$(hash).addClass("focus");

  			// Remove class after timeout
  			setTimeout(function(){
  				$(hash).removeClass("focus");
  			}, 2000);			
  			
      // Using jQuery's animate() method to add smooth page scroll
      // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area (the speed of the animation)
  			$('html, body').animate({
  				scrollTop: $(hash).offset().top - 69
  			}, 600, function(){
  				
  				// Add hash (#) to URL when done scrolling (default click behavior)
  				window.location.hash = hash;				
  			});
  					
  			// Collapse Navbar for mobile view
  			$(".navbar-collapse").collapse('hide');			
  		}

  	});
  	$(window).scroll(function(){
  		var scrollPos = $('body').scrollTop();
  		if(scrollPos > 0){
  			$('nav').addClass('show-color');
  			$('.scrollTop').addClass('show-button');
  		} else{
  			$('nav').removeClass('show-color');
  			$('.scrollTop').removeClass('show-button');
  		}
  		
  	});
  });
